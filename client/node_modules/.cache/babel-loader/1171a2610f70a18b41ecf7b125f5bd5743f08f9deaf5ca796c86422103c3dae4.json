{"ast":null,"code":"import _slicedToArray from\"C:/PI/pi-pokemon/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PokeCard from\"../Card/PokeCard\";import style from\"./ContainerCards.module.css\";import{useSelector}from\"react-redux\";import{useEffect,useState}from\"react\";import Filters from\"../Filters/Filters\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ContainerCards=function ContainerCards(){var pokemons=useSelector(function(state){return state.pokemons;});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(20),_useState4=_slicedToArray(_useState3,2),pokemonsPerPage=_useState4[0],setPokemonsPerPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),currentPokemons=_useState6[0],setCurrentPokemons=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var orderedPokemons=useSelector(function(state){return state.orderedPokemons;});var filteredPokemons=useSelector(function(state){return state.filteredPokemons;});useEffect(function(){setCurrentPokemons(pokemons.slice(0,pokemonsPerPage));setLoading(false);},[pokemons,pokemonsPerPage]);useEffect(function(){setCurrentPokemons(orderedPokemons.slice(0,pokemonsPerPage));setLoading(false);},[orderedPokemons,pokemonsPerPage]);useEffect(function(){setCurrentPokemons(filteredPokemons.slice(0,pokemonsPerPage));setLoading(false);},[filteredPokemons,pokemonsPerPage]);if(loading||!currentPokemons){return/*#__PURE__*/_jsx(\"div\",{className:style.loading,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"})});}if(currentPokemons.length===1){var pokemon=currentPokemons[0];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Filters,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PokeCard,{id:pokemon.id,image:pokemon.image,types:pokemon.types,name:pokemon.name},pokemon.id)}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(currentPage-1);},children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(currentPage+1);},children:\"Next\"})]});}if(typeof currentPokemons[0]===\"string\"){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Filters,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Error 404: Not found\"}),/*#__PURE__*/_jsx(\"img\",{src:bigpikachu,alt:\"bigpikachu\",className:style.bigpikachu})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return location.replace(\"http://localhost:3000/home\");},children:\"Go back\"})]});}var pageSize=20;var startIndex=(currentPage-1)*pageSize;var endIndex=startIndex+pageSize;var pokemonsToDisplay=currentPokemons.slice(startIndex,endIndex);var totalPages=Math.ceil(currentPokemons.length/pageSize);var ratioPages=5;var pagination=[];var paginate=function paginate(number){if(number<1||number>totalPages)return;setCurrentPage(number);};if(totalPages<=ratioPages){for(var i=1;i<=totalPages;i++){pagination.push(i);}}else{var left=Math.max(currentPage-Math.floor(ratioPages/2),1);var right=Math.min(left+ratioPages-1,totalPages);for(var _i=left;_i<=right;_i++){pagination.push(_i);}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Filters,{}),/*#__PURE__*/_jsx(\"div\",{className:style.container,children:pokemonsToDisplay.map(function(pokemon){return/*#__PURE__*/_jsx(PokeCard,{id:pokemon.id,image:pokemon.image,types:pokemon.types,name:pokemon.name},pokemon.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:style.pagination,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(currentPage-1);},children:\"Previous\"}),pagination.map(function(number){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(number);},className:currentPage===number?style.active:null,children:number},number);}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return paginate(currentPage+1);},children:\"Next\"})]})]});};export default ContainerCards;","map":{"version":3,"names":["PokeCard","style","useSelector","useEffect","useState","Filters","jsx","_jsx","jsxs","_jsxs","ContainerCards","pokemons","state","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","pokemonsPerPage","setPokemonsPerPage","_useState5","_useState6","currentPokemons","setCurrentPokemons","_useState7","_useState8","loading","setLoading","orderedPokemons","filteredPokemons","slice","className","children","length","pokemon","id","image","types","name","onClick","paginate","src","bigpikachu","alt","location","replace","pageSize","startIndex","endIndex","pokemonsToDisplay","totalPages","Math","ceil","ratioPages","pagination","number","i","push","left","max","floor","right","min","container","map","active"],"sources":["C:/PI/pi-pokemon/client/src/components/ContainerCards/ContainerCards.jsx"],"sourcesContent":["import PokeCard from \"../Card/PokeCard\";\r\nimport style from \"./ContainerCards.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Filters from \"../Filters/Filters\";\r\n\r\n\r\nconst ContainerCards = () => {\r\n    const pokemons = useSelector((state) => state.pokemons);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pokemonsPerPage, setPokemonsPerPage] = useState(20);\r\n    const [currentPokemons, setCurrentPokemons] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const orderedPokemons = useSelector((state) => state.orderedPokemons);\r\n    const filteredPokemons = useSelector((state) => state.filteredPokemons);\r\n\r\n    useEffect(() => {\r\n        setCurrentPokemons(pokemons.slice(0, pokemonsPerPage));\r\n        setLoading(false);\r\n    }, [pokemons, pokemonsPerPage]);\r\n\r\n    useEffect(() => {\r\n        setCurrentPokemons(orderedPokemons.slice(0, pokemonsPerPage));\r\n        setLoading(false);\r\n    }, [orderedPokemons, pokemonsPerPage]);\r\n\r\n    useEffect(() => {\r\n        setCurrentPokemons(filteredPokemons.slice(0, pokemonsPerPage));\r\n        setLoading(false);\r\n    }, [filteredPokemons, pokemonsPerPage]);\r\n\r\n    \r\n    if (loading || !currentPokemons) {\r\n        return (\r\n            <div className={style.loading}>\r\n                <h1>Loading...</h1>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    if (currentPokemons.length === 1) {\r\n        const pokemon = currentPokemons[0];\r\n        return (\r\n            <div>\r\n                <Filters />\r\n                <div>\r\n                <PokeCard\r\n                id={pokemon.id} \r\n                key={pokemon.id}\r\n                image={pokemon.image}\r\n                types={pokemon.types}\r\n                name={pokemon.name}\r\n                 />\r\n            </div>\r\n            <button onClick={() => paginate(currentPage - 1)}>Previous</button>\r\n            <button onClick={() => paginate(currentPage + 1)}>Next</button>\r\n        </div>\r\n        )\r\n    }\r\n    \r\n    if(typeof currentPokemons[0] === \"string\") {\r\n        return (\r\n            <div>\r\n                <Filters />\r\n                <div>\r\n                <h1>Error 404: Not found</h1>\r\n                <img src={bigpikachu} alt=\"bigpikachu\"\r\n                className={style.bigpikachu}\r\n                 />\r\n            </div>\r\n            <button onClick={() =>\r\n            location.replace(\"http://localhost:3000/home\")}>Go back</button>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    const pageSize = 20;\r\n    const startIndex = (currentPage - 1) * pageSize;\r\n    const endIndex = startIndex + pageSize;\r\n    const pokemonsToDisplay = currentPokemons.slice(startIndex, endIndex);\r\n    const totalPages = Math.ceil(currentPokemons.length / pageSize);\r\n    const ratioPages = 5;\r\n    let pagination = [];\r\n    \r\n    const paginate = (number) => {\r\n        if (number < 1 || number > totalPages) return;\r\n        setCurrentPage(number);\r\n    }\r\n\r\n    if (totalPages <= ratioPages) {\r\n        for (let i = 1; i <= totalPages; i++) {\r\n            pagination.push(i);\r\n        }\r\n    } else {\r\n        const left = Math.max(currentPage - Math.floor(ratioPages / 2), 1);\r\n        const right = Math.min(left + ratioPages - 1, totalPages);\r\n        for (let i = left; i <= right; i++) {\r\n            pagination.push(i);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Filters />\r\n            <div className={style.container}>\r\n                {pokemonsToDisplay.map((pokemon) => {\r\n                    return (\r\n                        <PokeCard\r\n                        id={pokemon.id}\r\n                        key={pokemon.id}\r\n                        image={pokemon.image}\r\n                        types={pokemon.types}\r\n                        name={pokemon.name}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className={style.pagination}>\r\n                <button onClick={() => paginate(currentPage - 1)}>Previous</button>\r\n                {pagination.map((number) => {\r\n                    return (\r\n                        <button\r\n                        key={number}\r\n                        onClick={() => paginate(number)}\r\n                        className={currentPage === number ? style.active : null}\r\n                        >\r\n                            {number}\r\n                        </button>\r\n                    )\r\n                })}\r\n                <button onClick={() => paginate(currentPage + 1)}>Next</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ContainerCards;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}